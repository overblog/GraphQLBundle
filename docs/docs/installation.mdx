---
title: Installation
sidebar_position: 2
---

This guide shows how to install and enable Overblog GraphQLBundle on a modern Symfony 6/7 application. It covers both the recommended Symfony Flex path and a manual setup.

## Prerequisites

- PHP version compatible with your Symfony version (Symfony 7 requires PHP 8.2+).
- Composer
- A working Symfony application (Flex recommended)

## Install via Symfony Flex (recommended)

### 1) Require the bundle

```bash
composer require overblog/graphql-bundle
```

When using Flex, a community recipe will be proposed automatically.

### 2) Accept the contrib recipe

```text
-  WARNING  overblog/graphql-bundle (x.y): From github.com/symfony/recipes-contrib
   The recipe for this package comes from the "contrib" repository, which is open to community contributions.
   Do you want to execute this recipe?
   [y] Yes
   [n] No
   [a] Yes for all packages, only for the current installation session
   [p] Yes permanently, never ask again for this project
   (defaults to n):
```

- Choosing “Yes” will:
  - Enable the bundle automatically (no manual change to `config/bundles.php` needed).
  - Register a default GraphQL HTTP endpoint (commonly under `/graphql`).

### 3) Optional: GraphiQL developer UI

If you want an in‑browser IDE for development:

```bash
composer require --dev overblog/graphiql-bundle
```

The GraphiQL bundle exposes a convenient UI to explore your schema and run queries locally. Do not enable it in production.

## Manual installation (without Flex)

If you are not using Symfony Flex or declined the recipe, perform these steps.

### 1) Require the bundle

```bash
composer require overblog/graphql-bundle
```

### 2) Enable the bundle

```php title="config/bundles.php"
return [
    // ...
    Overblog\GraphQLBundle\OverblogGraphQLBundle::class => ['all' => true],
];
```

### 3) Register the GraphQL endpoint route

Single schema (default):

```yaml title="config/routes.yaml"
overblog_graphql_single_endpoint:
    resource: "@OverblogGraphQLBundle/Resources/config/routing/single.yaml"
    prefix: "/"
```

Multiple schemas (switch schema by path):

```yaml title="config/routes.yaml"
overblog_graphql_multiple_endpoint:
    resource: "@OverblogGraphQLBundle/Resources/config/routing/multiple.yaml"
    prefix: "/graphql"
```

Adjust `prefix` to fit your application (e.g., `"/graphql"`).

## Optional features and suggested packages

- Validation support: install `symfony/validator` to enable automatic input validation features of the bundle.
- Annotations (legacy schemas): if you use annotation-based type definitions, install `doctrine/annotations`.
- Doctrine type guesser for annotations: install `doctrine/orm`.

Note: Symfony 7 favors PHP attributes over legacy annotations. The bundle’s automatic validation currently targets YAML-defined schemas. See `docs/validation/index.md` for details and limitations.

## Using Composer’s ClassLoader for generated classes (optional but recommended)

The bundle can generate PHP classes for types. For optimal autoloading and performance in prod, you can let Composer load these generated classes.

### 1) Configure the bundle

```yaml title="config/packages/overblog_graphql.yaml"
overblog_graphql:
    definitions:
        # Disable the built‑in listener that registers a runtime class loader
        use_classloader_listener: false

        # Set to false to disable auto compilation (you can compile types manually)
        # See the `graphql:compile` command.
        auto_compile: true

        # Directory where generated classes will be written
        # Consider using a path committed to VCS for build reproducibility
        cache_dir: "/my/path/to/my/generated/classes"

        # Optionally change the namespace of generated classes
        # class_namespace: "Overblog\\GraphQLBundle\\__DEFINITIONS__"
```

### 2) Point Composer to the generated namespace

```json title="composer.json (excerpt)"
{
  "autoload": {
    "psr-4": {
      "Overblog\\GraphQLBundle\\__DEFINITIONS__\\": "my/path/to/my/generated/classes/"
    }
  }
}
```

### 3) Regenerate Composer’s autoloader

```bash
composer dump-autoload
```

You’re all set. Proceed to define your schema (YAML, attributes/annotations, or SDL) and create queries/mutations. For validation guidelines and caveats, read `docs/validation/index.md`.
